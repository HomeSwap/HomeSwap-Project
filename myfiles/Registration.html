

<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>HomeSwap - Registration</title>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/modern-business.css" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ" crossorigin="anonymous">


<style>
* {
  box-sizing: border-box;
}
.col-centered{
    float: none;
    margin: 0 auto;
    padding:0;

}
.btn-lg.round {
  border-radius: 24px;
}

#panel1{
  padding: 3px;
  margin-bottom:5px;
    display: none;
  color:black;
}
#regForm {
  background-color: #ffffff;
  /*margin: 100px auto;*/
  padding: 40px;
  width: 100%;
  min-width: 400px;
}


#regForm input {
/*  width: 100%;
*/     /* text-align: center;*/
/*  padding: 10px;
  
  font-size: 17px;
  border: 1px solid #aaaaaa;*/
}

/* Mark input boxes that gets an error on validation: */
#regForm input.invalid {
  background-color: #ffdddd;
}

/* Hide all steps by default: */
.tab {
  display: none;
}
#regForm button {
  background-color: #4CAF50;
  color: #ffffff;
  border: none;
  padding: 10px 20px;
  font-size: 17px;
  cursor: pointer;
  width:100%;
}

#regForm button:hover {
  opacity: 0.8;
}

#prevBtn {
  background-color: #bbbbbb;
}

/* Make circles that indicate the steps of the form: */
.step {
  height: 30px;
  width: 30px;
  margin: 0 2px;
  background-color: #bbbbbb;
  border: none;  
  border-radius: 50%;
  display: inline-block;
  opacity: 0.5;
}

.step.active {
  opacity: 1;
}

/* Mark the steps that are finished and valid: */
.step.finish {
  background-color: #4CAF50;
}
.center-block {
  align-items: center;
  float:none;
}

</style>
  </head>

  <body>

    <!-- Navigation -->
<nav class="navbar fixed-top navbar-expand-lg navbar-dark bg-dark fixed-top">
    <div class="container">
      <a class="navbar-brand" href="index.html">HomeSwap</a>
      <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item active">
            <a class="nav-link" href="Registration.html">Register</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="Login.html">Login</a>
          </li>
<!--           <li class="nav-item">
            <a class="nav-link" href="newApartment.html">New apartment</a>
          </li>   -->        
          <li class="nav-item">
            <a class="nav-link" href="Search.html">search</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="SearchResults.html">search Results</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="BookApartment.html">book Apartment</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

    <!-- Page Content -->
    <div class="container">

      <!-- Page Heading/Breadcrumbs -->
      <h1 class="mt-4 mb-3">Registration
        <small>New user</small>
      </h1>

      <ol class="breadcrumb">
        <li class="breadcrumb-item">
          <a href="index.html">Home</a>
        </li>
        <li class="breadcrumb-item active">Registration</li>
      </ol>

    <div style="text-align:center;margin-top:40px;">
    <span class="step"></span>
    <span class="step"></span>
    <span class="step"></span>
    </div>

      <form name="sentMessage" id="regForm" action="PHP/insertRegistration.php" method="POST">
<!--       id="contactForm"  
 -->  <div class="tab">
      <div class="row">
        <div class="col-lg-6 mb-4 col-centered">
                 
            <div class="control-group form-group">
              <div class="controls">
                <label>* First Name:</label>
                <input type="text" class="mandatory form-control" id="Fname" name="Fname" required data-validation-required-message="Please enter your first name.">
                <p class="help-block"></p>
              </div>
            </div>
            <div class="control-group form-group">
              <div class="controls">
                <label>* Last Name:</label>
                <input type="text" class="mandatory form-control" id="Lname" name="Lname" required data-validation-required-message="Please enter your last name.">
                <p class="help-block"></p>
              </div>
            </div>            
            <div class="control-group form-group">
              <div class="controls">
                <label>* ID / Passport No.:</label>
                <input type="number" class="mandatory form-control" id="userID" name="userID" required data-validation-required-message="Please enter your ID / Passport No.">
                <p class="help-block"></p>
              </div>
            </div>  
              <div class="control-group form-group">
              <div class="controls">
                <label>* Phone Number:</label>
                <input type="tel" class="mandatory form-control" id="phone" name="phone" required data-validation-required-message="Please enter your phone number.">
              </div>
            </div>
            <div class="control-group form-group">
              <div class="controls">
                <label>Country:</label>
                <input type="text" class="form-control" id="country" name="country">
              </div>
            </div>
          </div>
            <div class="col-lg-6 mb-4 col-centered">
                <div class="control-group form-group">
              <div class="controls">
                <label>City:</label>
                <input type="text" class="form-control" id="city" name="city">
              </div>
            </div>
             <div class="control-group form-group">
              <div class="controls">
                <label>Street:</label>
                <input type="text" class="form-control" id="street" name="street">
              </div>
            </div>
            <div class="control-group form-group">
              <div class="controls">
                <label>Apartment No.:</label>
                <input type="number" class="form-control" id="aptNum" name="aptNum">
              </div>
            </div>
              <div class="control-group form-group">
              <div class="controls">
                <label>Zip Code:</label>
                <input type="number" class="form-control" id="zipCode" name="zipCode">
              </div>
              </div>
              </div>
            <div id="success"></div>
            <!-- For success/fail messages -->
            <div class="row" id="btn">
<!--               <div class="col-lg-6 mb-5">
            <button type="submit" class="btn btn-primary btn-lg btn-block " id="sendMessageButton">Next Step</button></div> -->
          </div>
          
        </div>
      </div>
      <!-- /.row -->
    
    <!-- /.container -->

<div class="tab">
      <div class="row">
        <div class="col-lg-12 mb-4">
          <p><strong>Note: </strong>The following features are optional, but will surely help you in the search apartment process.</p>

        <div class="control-group form-group">
          <div class="controls">
            <div class="card mb-4">
              <h6 class="card-header">What is your favorite trip type?</h6>
              <div class="card-body">
                <div class="input-group">
                  <div class="form-check form-check-inline">
                    <input class="form-check-input" type="checkbox" value="seaView" name="tripType[]" id="seaView">
                    <label class="form-check-label" for="seaView" >Sea view<br><img src="css/pics/seaView.jpg" height=165 width=165></label>
                  </div>
                  <div class="form-check form-check-inline">
                    <input class="form-check-input" type="checkbox" value="urban" name="tripType[]" id="urban">
                    <label class="form-check-label" for="urban" >Urban<br><img src="css/pics/urban.jpg" height=165 width=165></label>
                  </div>
                  <div class="form-check form-check-inline">
                    <input class="form-check-input" type="checkbox" value="countryHouse" name="tripType[]" id="countryHouse">
                    <label class="form-check-label" for="countryHouse">Country house<br><img src="css/pics/countryHouse.jpg" height=165 width=165></label>
                  </div>
                    <div class="form-check form-check-inline">
                    <input class="form-check-input" type="checkbox" value="openSpace" name="tripType[]" id="openSpace">
                    <label class="form-check-label" for="openSpace" >Open space<br><img src="css/pics/openSpace.jpg" height=165 width=165></label>
                  </div>
                    <div class="form-check form-check-inline">
                    <input class="form-check-input" type="checkbox" value="forFamilies" name="tripType[]" id="forFamilies">
                    <label class="form-check-label" for="forFamilies" >For families<br><img src="css/pics/forFamilies.jpg" height=165 width=165></label>
                  </div>
           </div>
        </div>
      </div>
    </div>
  </div>

    <div class="col-lg-12 mb-4">
        <div class="control-group form-group">
          <div class="controls">
            <div class="card mb-4">
              <h6 class="card-header">What amenities do you require?</h6>
              <div class="card-body">
                <div class="input-group">
                  <div class="col-lg-2 mb-4">
                  <div class="form-check form-check-inline">
                    <input class="form-check-input" type="checkbox" value="WIFI" name="amenities[]" id="WIFI">
                    <label class="form-check-label" for="WIFI" ><i class="fas fa-wifi"></i> WIFI</label>
                  </div>
                  <div class="form-check form-check-inline">
                    <input class="form-check-input" type="checkbox" value="parking" name="amenities[]" id="parking">
                    <label class="form-check-label" for="parking" ><i class="fas fa-parking"></i> Parking</label>
                  </div>
                   <div class="form-check form-check-inline">
                    <input class="form-check-input" type="checkbox" value="balcony" name="amenities[]" id="balcony">
                    <label class="form-check-label" for="balcony" ><i class="fas fa-chess-rook"></i> Balcony</label>
                  </div>
                  <div class="form-check form-check-inline">
                    <input class="form-check-input" type="checkbox" value="pool" name="amenities[]" id="pool">
                    <label class="form-check-label" for="pool" ><i class="fas fa-swimming-pool"></i> Pool</label>
                  </div>
                  <div class="form-check form-check-inline">
                    <input class="form-check-input" type="checkbox" value="hot_tub" name="amenities[]" id="hot_tub">
                    <label class="form-check-label" for="hot_tub" ><i class="fas fa-hot-tub"></i> Hot-Tub</label>
                  </div>
                  <div class="form-check form-check-inline">
                    <input class="form-check-input" type="checkbox" value="safe" name="amenities[]" id="safe">
                    <label class="form-check-label" for="safe" ><i class="fas fa-key"></i> Safe</label>
                  </div>
                  <div class="form-check form-check-inline">
                    <input class="form-check-input" type="checkbox" value="kitchen" name="amenities[]" id="kitchen">
                    <label class="form-check-label" for="kitchen" ><i class="fas fa-utensils"></i> Kitchen</label>
                  </div>

                </div>
                  <div class="col-lg-3 mb-4">

                  <div class="form-check form-check-inline">
                    <input class="form-check-input" type="checkbox" value="workspace" name="amenities[]" id="workspace">
                    <label class="form-check-label" for="workspace" ><i class="fas fa-briefcase"></i> Workspace</label>
                  </div>  
                    <div class="form-check form-check-inline">
                    <input class="form-check-input" type="checkbox" value="TV" name="amenities[]" id="TV">
                    <label class="form-check-label" for="TV"><i class="fas fa-tv"></i> TV</label>
                  </div>
                    <div class="form-check form-check-inline">
                    <input class="form-check-input" type="checkbox" value="iron" name="amenities[]" id="iron">
                    <label class="form-check-label" for="iron" ><i class="fas fa-tshirt"></i> Iron</label>
                  </div>
                  <div class="form-check form-check-inline">
                    <input class="form-check-input" type="checkbox" value="gym" name="amenities[]" id="gym">
                    <label class="form-check-label" for="gym"><i class="fas fa-dumbbell"></i> Gym</label>
                  </div>
                 <div class="form-check form-check-inline">
                    <input class="form-check-input" type="checkbox" value="fire_place" name="amenities[]" id="fire_place">
                    <label class="form-check-label" for="fire_place" ><i class="fas fa-fire"></i> Fire Place</label>
                  </div>
                    <div class="form-check form-check-inline">
                    <input class="form-check-input" type="checkbox" value="washing_machine" name="amenities[]" id="washing_machine">
                    <label class="form-check-label" for="washing_machine"><i class="fas fa-tint"></i> Washing Machine</label>
                  </div>
                  <div class="form-check form-check-inline">
                    <input class="form-check-input" type="checkbox" value="air_conditioner" name="amenities[]" id="air_conditioner">
                    <label class="form-check-label" for="air_conditioner"><i class="fas fa-snowflake"></i> Air Conditioner</label>
                  </div>
                </div>
                </div>
              </div>
            </div>
          </div>
      </div>
    </div>
        <div class="control-group form-group">
          <div class="controls">
            <div class="card mb-4">
              <h6 class="card-header">Do you have any special requests?</h6>
              <div class="card-body">
                <div class="input-group">
                <div class="form-check form-check-inline">
                <input style="margin-right: 15px;" class="form-check-input" type="checkbox" value="smoking_allowed" name="requests[]" id="smoking_allowed">
                <label class="form-check-label" for="smoking_allowed">Smoking allowed<br><img src="css/pics/smoking.jpg" height=180 width=180></label>
              </div>

                <div class="form-check form-check-inline">
                <input style="margin-right: 15px;" class="form-check-input" type="checkbox" value="pets_allowed" name="requests[]" id="pets_allowed">
                <label class="form-check-label" for="pets_allowed">Pets allowed<br><img src="css/pics/pets.jpg" height=180 width=180></label>
              </div>
              <div class="form-check form-check-inline">
                <input style="margin-right: 15px;" class="form-check-input" type="checkbox" value="suitable_for_events" name="requests[]" id="suitable_for_events">
                <label class="form-check-label" for="suitable_for_events">Suitable for events<br><img src="css/pics/events.jpg" height=180 width=180></label>
              </div>
            </div>
          </div>
        </div>
        </div>
      </div>

        <div class="control-group form-group">
          <div class="controls">
            <div class="card mb-4">
              <h6 class="card-header">Do you have any accessibility needs?</h6>
              <div class="card-body">
                <div class="input-group">
                <div class="form-check form-check-inline">
                <input class="form-check-input" type="checkbox" value="wide_corridor" name="accessibilityNeeds[]" id="wide_corridor">
                <label class="form-check-label" for="wide_corridor">Wide corridor</label>
              </div>
                <div class="form-check form-check-inline">
                <input class="form-check-input" type="checkbox" value="staircase_free" name="accessibilityNeeds[]" id="staircase_free">
                <label class="form-check-label" for="staircase_free" >Staircase free</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="checkbox" value="elivator" name="accessibilityNeeds[]" id="elivator">
                <label class="form-check-label" for="elivator">Elivator</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="checkbox" value="accesible_parking" name="accessibilityNeeds[]" id="accesible_parking">
                <label class="form-check-label" for="accesible_parking">Accesible parking</label>
              </div>
              </div>
              </div>
              </div>
              </div>
              </div>
</div>
</div>
</div>


    <div class="tab">
      <div class="col-lg-6 mb-4 col-centered">
      <h3 style="text-align:center">Login Info</h3>
    <p><input type="email" class="mandatory" required data-validation-required-message="Please enter your email address."style="padding:10px; width:100%" placeholder="Email address..." oninput="this.className = ''" id="email" name="email"><div id="panel"></div><div id="emailchecker"></div></p>
    <p><input class="mandatory" required data-validation-required-message="Please enter your password." style="padding:10px; width:100%" placeholder="Password..." name="password" id="pass1" type="password"></p>
        <div id="panel1"><i class="fas fa-exclamation-circle"></i> Password must contain at least 6 characters</div> 
    <p><input class="mandatory" required data-validation-required-message="Please enter your password." style="padding:10px; width:100%" placeholder="Verify password..." name="repeatpassword" id="pass2" type="password">
    <span id='message'></span>
  </div>
</div>
<div class="col-lg-6 mb-5 col-centered">
  <div style="overflow:auto;">
      <button class="btn btn-primary center-block btn-lg round btn-block" type="button" id="prevBtn" onclick="nextPrev(-1)">Previous</button>
      <button class="btn btn-primary center-block btn-lg round btn-block" type="button" id="nextBtn" onclick="nextPrev(1)">Next</button>
  </div>
</div>

</form>
</div>
    <!-- Footer -->
    <footer class="py-5 bg-dark">
      <div class="container">
        <p class="m-0 text-center text-white"> &copy; HomeSwap 2018</p>
      </div>
      <!-- /.container -->
    </footer>

    <!-- Bootstrap core JavaScript -->
<!--     <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script> -->

    <!-- Contact form JavaScript -->
    <!-- Do not edit these files! In order to set the email address and subject line for the contact form go to the bin/contact_me.php file. -->
<!--     <script src="js/jqBootstrapValidation.js"></script>
    <script src="js/contact_me.js"></script> -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="http://code.jquery.com/jquery-1.9.1.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/jquery-ui.min.js"></script>
<script>

res1=true, res2=true, res3=true;
$(document).ready(function(){
    $("#pass1").click(function(){
        $("#panel1").slideDown("slow");
    });
  });

$('#pass2').on ('keyup', function () {
  if ($('#pass1').val() == $('#pass2').val()) {
    $('#message').html('<i class="fas fa-check"></i> Matching').css('color', 'green');
      res1=true;
    }
   else {
        res1=false;
    $('#message').html('<i class="fas fa-times"></i> Not Matching ').css('color', 'red');
  }
});

$('#pass1').blur (function () {
  if (this.value.length>=6) {
    $('#panel1').html('<i class="fas fa-check"></i> Password contains 6 characters').css('color', 'green');
      res2=true;
  } else 
    // $('#panel1').html('<i class="fas fa-times"></i> Not Matching ').css('color', 'red');
    res2=false;
});

// $(document).ready(function(){
//     $("#pass1").blur(function(){
//         if(this.value.length < 6){ // checks the password value length
//        alert('You have entered less than 6 characters for password')
//      };
//     });
//   });
str="";
email="";

   $('#email').blur(function(){
    email = $('#email').val();
        
        if (validateEmail(email)) {
            $('#panel').html('<i class="fas fa-check"></i> Valid email address format').css('color', 'green');
              res3=true;
            checkDB(email);
        }
        else {
            res3=false;
            $('#panel').html('<i class="fas fa-times"></i> Invalid email address format').css('color', 'red');
            e.preventDefault();
        }
    });


function checkDB (email){
                $.ajax({
                    type: "POST",
                    url: "PHP/lookup_page.php?emai",
                    data: email,
                    success:function(result) {
                      
                         $("#emailchecker").html(result += '<i class="fas fa-times"></i>').css('color', 'red');
                          alert(email);            

                       }
                });
            }
   // function checkDB1 (sEmail){
   //           $.ajax({
   //                   url:"PHP/lookup_page.php?email="+sEmail,
   //                   success:function(result) {
                      
   //                       $("#emailchecker").html(result += '<i class="fas fa-times"></i>').css('color', 'red');
   //                       str=parseString(result);
   //                     }

   //               });

   // }
  function validateEmail(email) {
    var filter = /^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/;
    if (filter.test(email)) {
       return true;
    }
    else {
        return false;
    }
  }


var currentTab = 0; // Current tab is set to be the first tab (0)
showTab(currentTab); // Display the crurrent tab

function showTab(n) {
  // This function will display the specified tab of the form...
  var x = document.getElementsByClassName("tab");
  x[n].style.display = "block";
  //... and fix the Previous/Next buttons:
  if (n == 0) {
    document.getElementById("prevBtn").style.display = "none";
  } else {
    document.getElementById("prevBtn").style.display = "inline";
  }
  if (n == (x.length - 1)) {
    document.getElementById("nextBtn").innerHTML = "Submit";
  } else {
    document.getElementById("nextBtn").innerHTML = "Next";
  }
  //... and run a function that will display the correct step indicator:
  fixStepIndicator(n)
}

function nextPrev(n) {
  // This function will figure out which tab to display
  var x = document.getElementsByClassName("tab");
  // Exit the function if any field in the current tab is invalid:
  if (n == 1 && !validateForm()) return false;
  // Hide the current tab:
  x[currentTab].style.display = "none";
  // Increase or decrease the current tab by 1:
  currentTab = currentTab + n;
  // if you have reached the end of the form...
  if (currentTab >= x.length) {
    // ... the form gets submitted:
    document.getElementById("regForm").submit();
    return false;
  }
  // Otherwise, display the correct tab:
  showTab(currentTab);
}

function validateForm() {
  // This function deals with validation of the form fields
  var x, y, i, valid = true;
  x = document.getElementsByClassName("tab");
  y = x[currentTab].getElementsByClassName("mandatory");
  mail=document.getElementById("email");
  pass1=document.getElementById("pass1");
  pass2=document.getElementById("pass2");
  // A loop that checks every input field in the current tab:
  for (i = 0; i < y.length; i++) {
    // If a field is empty...
    if (y[i].value == "") {
      // add an "invalid" class to the field:
      y[i].className += " invalid";
      // and set the current valid status to false
      valid = false;
    }
  }
    // if (!res1){
    //   pass2.className+= " invalid";
    //   valid = false;
    // }
    if (!res2){
      pass1.className+= " invalid";
      valid = false;
    }
    if (!res3){
      mail.className+= " invalid";
      valid = false;
    }
  // If the valid status is true, mark the step as finished and valid:
  if (valid) {
    document.getElementsByClassName("step")[currentTab].className += " finish";
  }
  return valid; // return the valid status
}

function fixStepIndicator(n) {
  // This function removes the "active" class of all steps...
  var i, x = document.getElementsByClassName("step");
  for (i = 0; i < x.length; i++) {
    x[i].className = x[i].className.replace(" active", "");
  }
  //... and adds the "active" class on the current step:
  x[n].className += " active";
}



</script>



  </body>

</html>
